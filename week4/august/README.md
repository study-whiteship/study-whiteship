# [Week4] 제어문

기본적으로 블록 내부의 코드는 위에서 아래로 한 문장씩 순차적으로 실행된다. 하지만 때로는 조건에 따라 문장을 건너뛰고, 또는 같은 문장을 반복해서 수행해야할 때가 있다. 이처럼 프로그램의 흐름(flow)을 바꾸는 역할을 하는 문장들을 '제어문(control statement)'이라고 한다. 제어문에는 '조건문과 반복문'이 있다.

## 선택문(조건문)

### if 문

if문은 가장 기본적인 조건문이며, '조건식'과 '괄호`{}`'로 이루어져 있다.

```java
if (조건식) {
		// 조건식이 참(true)일 때 수행될 문장들을 적는다.
}
```

자바는 C나 C++과는 다르게 조건식에 boolean타입만 들어갈 수 있다.

### if-else 문

```java
if (조건식) {
		// 조건식이 참(true)일 때 수행될 문장들을 적는다.
} else {
		// 조건식이 거짓(false)일 때 수행될 문장들을 적는다.
}
```

### if-else if 문

```java
if (조건식1) {
		// 조건식1의 연산결과가 참일 때 수행될 문장들을 적는다.
} else if (조건식2) {
		// 조건식2의 연산결과가 참일 때 수행될 문장들을 적는다.
} else {
		// 위의 어느 조건식도 만족하지 않을 때 수행될 문장들을 적는다.
}
```

### 중첩 if 문

```java
if (조건식1) {
		// 조건식1의 연산결과가 true일 때 수행될 문장들을 적는다.
		if (조건식2) {
				// 조건식1과 조건식2가 모두 true일 때 수행될 문장들
		} else {
				// 조건식1이 true이고, 조건식2가 false일 때 수행되는 문장들
		}
} else {
		// 조건식1이 false일 때 수행되는 문장들
}
```

if문은 위와 같이 중첩의 횟수는 거의 제한이 없다. 하지만 [객체지향 체조](https://developerfarm.wordpress.com/2012/02/03/object_calisthenics_summary/)의 규칙 1번을 염두하고 중첩을 최소한으로 작성하려고 노력하는 것이 좋다.

### switch 문

if문은 조건식의 결과가 참과 거짓, 두 가지 밖에 없기 때문에 경우의 수가 많아질수록 else if를 계속 추가해주어야한다. 그렇게 되면 조건식이 많아져서 복잡해지고, 여러 개의 조건식을 계산해야하므로 처리시간도 많이 걸린다.

이러한 if문과 달리 switch문은 단 하나의 조건식으로 많은 경우의 수를 처리할 수 있고, 표현도 간결하므로 알아보기 쉽다. 그래서 처리할 경우의 수가 많은 경우에는 if문 보다 switch문으로 작성하는 것이 좋다. 다만 switch문은 제약조건이 있기 때문에, 경우의 수가 많아도 어쩔 수 없이 if문으로 작성해야 하는 경우가 있다.

> switch문의 제약조건
>
> 1. switch문의 조건식 결과는 정수 또는 문자열이어야 한다.
> 2. case문의 값은 정수 상수만 가능하며, 중복되지 않아야 한다.

TIP: 참고로 자바에서는 조건문의 대부분을 상속으로 변경할 수 있다. [replace conditional with polymorphism](https://refactoring.guru/replace-conditional-with-polymorphism)

## 반복문

반복문은 어떤 작업이 반복적으로 수행되도록 할 때 사용되며, 반복문의 종류로는 for문과 while문, 그리고 while문의 변형인 do-while문이 있다. for문이나 while문이 속한 문장은 조건에 따라 한 번도 수행되지 않을 수도 있지만 do-while문에 속한 문장은 반드시 최소 한번은 실행되는 것이 보장된다. 반복문은 주어진 조건을 만족하는 동안 주어진 문장들을 반복적으로 수행하므로 조건식을 포함하며, if문과 마찬가지로 조건식의 결과가 true이면 참이고, false면 거짓으로 간주된다.

for과 while문은 구조와 기능이 유사하여 서로 변환이 가능하다. for문은 주로 반복횟수를 알고 있을 때 or index가 필요할 때 주로 사용하며, while문은 단순히 특정 조건이 false일 때 까지 반복을 하는 경우에 사용한다.

### for문

```java
for (초기화; 조건식; 증감식) {
		// 조건이 참(true)일 때 반복 수행할 문장
}
```

### while문

```java
while (조건식) {
		// 조건식의 연산결과가 참(true)인 동안, 반복될 문장들을 적는다.
}
```

### do-while문

```java
do {
		// 조건식의 연산결과가 참(true)일 때 수행될 문장들을 적는다.
} while (조건식);
```

### break문

break문은 자신이 포함된 가장 가까운 반복문을 벗어난다. 즉, 해당 break문을 감싸고 있는 가장 안쪽의 반복문을 벗어난다.

### continue문

continue문은 반복문 내에서만 사용될 수 있으며, 반복이 진행되는 도중에 continue문을 만나면 반복문의 끝으로 이동하여 다음 반복으로 넘어간다. for문의 경우 증감식으로 이동하며, while문과 do-while문의 경우 조건식으로 이동한다.

### 이름 붙은 반복문

break문은 근접한 단 하나의 반복문만 벗어날 수 있기 때문에, 여러 개의 반복문이 중첩된 경우에는 break문으로 중첩 반복문을 완전히 벗어날 수 없다. 이때는 중첩 반복문 앞에 이름을 붙이고 break문과 continue문에 이름을 지정해 줌으로써 하나 이상의 반복문을 벗어나거나 반복을 건너뛸 수 있다.

하지만 이는 현재 많이 사용하는 문법은 아니다. 자바에서는 반복문의 중첩이 많이 일어나지 않도록 구현하는 것을 지향하기 때문이다. 예를 들어, 별도의 메서드로 분리하여 값을 리턴으로 전달하면 하나 이상의 반복문을 벗어날 수 있다.

---

```java
Queue<Integer> queue = new LinkedList<>();
boolean offer = queue.offer(1);
boolean add = queue.add(1); // throw exception

queue.poll();
queue.remove(); // throw exception

queue.peek();
queue.element(); // throw exception
```

*Consistency*를 지키면서 예외를 던지는 메서드 계열을 사용하던지, 그냥 null을 리턴하는 기본 메서드를 사용할지를 맞춰주는 것이 바람직하다.

